<div class="col-12 ">
    <div class="card">
        <p-table >
            <ng-template pTemplate="header">
                <tr>
                    <th >   <button class="p-button-secondary p-button-text mr-2 mb-2"   pButton pRipple type="button" [routerLink]="['/historiquePaiement']" >Retour </button></th>
                    <th colspan="6"> <h2>chercher facture</h2></th>
                </tr>
            </ng-template>
        </p-table><br><br><br>

<p-table>
    <ng-template pTemplate="header">
        <tr>
            <td>
                <p-dropdown [options]="ListeReference"  [(ngModel)]="selectedReference"  placeholder="Select a reference"></p-dropdown>

            </td>
            <td>
              Valeur :  <input pInputText id="reference" type="number" [(ngModel)]="reference"  >
            </td>
            <td>
                <button pButton pRipple type="button" icon="pi pi-search" label="Chercher"  (click)="chercherfacture()" class="p-button-rounded btn btn-success"></button>

            </td>
        </tr>
        </ng-template>
</p-table>
<br><br><br>
<div class="grid p-fluid">
	<div class="col-12 md:col-9">
<h3 *ngIf="Factures" >La Liste des Factures</h3>
            <div *ngFor="let facture of Factures">
                <div class="card">
                <label >    <input  type="checkbox" class="custom-input" name="{{facture.referenceFact}}" [(ngModel)]="facture.isselected" (change)="onChange()">
                </label><br><br><br>
                 <p-table>
                    <ng-template pTemplate="header">
                           <tr>
                            <td >
                            </td></tr>
                            <tr> <td>
                                <h6>Référence : </h6>
                            </td>
                            <td>
                                <h6>{{facture.referenceFact}}</h6>
                            </td></tr>
                            <tr><td>
                                <h6>Montant : </h6>
                            </td>
                           <td>
                            <h6>{{facture.montant}}</h6>
                           </td></tr>
                            <tr><td>
                                <h6>Période de consommation : </h6>
                            </td>
                            <td>
                                <h6> {{facture.periodeCons|date:'dd/MM/YYYY  HH:mm'}}</h6>
                            </td></tr>
                            <tr>
                            <td>
                                <h6>Etat : </h6>
                            </td><td>
                            <h6> {{facture.etat}}</h6>
                        </td></tr>
                            <tr><td>
                                <h6>Date finale :</h6>
                            </td>
                            <td>
                                <h6> {{facture.dateF|date:'dd/MM/YYYY  HH:mm'}} </h6>
                            </td></tr>
                        </ng-template>
                </p-table>
            </div><br>
    </div>


    <div class="col-12 lg:col-12">
        <div >

            <p-dialog header="Paiement des Factures"  [(visible)]="display" modal="modal" showEffect="fade" [style]="{width: '60vw', hieght:'199vw'}" [breakpoints]="{'960px': '75vw'}">

                    <input hidden pInputText id="prenom" type="text" value="newPaiement.dateP | date:'dd/MM/YYYY  HH:mm'"  [(ngModel)]="newPaiement.dateP"/>
                    <input hidden pInputText id="modePaiement" type="text"   [(ngModel)]="newPaiement.modePaiement"/>

                        <h5>Mode de Paiement :</h5>
                        <div class="grid" *ngFor="let mode of Listemodes">
                            <div class="col-12 md:col-12">
                                <div class="field-radiobutton mb-0">
                                    <p-radioButton name="mode" value="{{mode.libelle}}" [(ngModel)]="newPaiement.modePaiement" id="{{mode.code}}"></p-radioButton>
                                    <label>{{mode.libelle}}</label>
                                </div>
                            </div>
                        </div>
                    <input pInputText id="text" hidden  type="text"  [(ngModel)]="newPaiement.etat"/><br><br><br>
                    <div class="z-3">
                        <button   (click)="display=true" pButton (click)="ajouter()" class="p-button-rounded btn btn-success" icon="pi pi-chevron-circle-down" label="Payer" style="width:100px;margin-left:700px;"></button>
                    </div>

            </p-dialog>
            <div class="col-12">
                <div class="z-3">
                   <button *ngIf="Factures"  icon="pi pi-chevron-circle-down" (click)="display=true" pButton  label="Payer" class="p-button-rounded btn btn-success" style="width:100px;margin-left:699px;"></button>
                </div>
            </div>
        </div></div>
  
</div></div>